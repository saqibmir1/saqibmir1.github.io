<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>I Bought a New Domain | Saqib Mir</title>

    <link rel="stylesheet" href="/css/main.css">


      <script src="/js/main.js"></script>


</head>
<body>
  <header>
    
<h1>Saqib Mir</h1>

  <nav>
    <ul class="menu">
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/posts/">Posts</a>
    </li>
    <li>
      <a href="/stuff/">Stuff</a>
    </li>
    <li>
      <a href="/about/">About</a>
    </li>
    <li>
      <a href="/contact/">Contact</a>
    </li>
    <li>
      <a href="/links/">Links</a>
    </li>
    <li>
      <a href="/chat/">Chat</a>
    </li>
    <li>
      <a href="/tags/">Tags</a>
    </li>
    </ul>
  </nav>

<hr>

  </header>
  <main>
    
  <h1>I Bought a New Domain</h1>

  
    
    
    <time datetime="2025-05-20T14:23:07&#43;05:30">May 20, 2025</time>
    <span style="color: #888; margin-left: 1em;">299 words · 2 min read</span>
  

  <h2 id="introduction">Introduction</h2>
<p>So, I ended up buying a new domain—mostly because it was super cheap. Figured I might as well use it for a year.</p>
<p>I also signed up for AWS Free Tier, which gives me 750 hours of EC2 usage per month for a whole year. Now that I’ve got both a domain and a VPS, I guess it’s time to become death, destroyer of idle servers.</p>
<p>I’ve set up a public Calibre server at <a href="https://calibre.saqibmir.site">calibre.saqibmir.site</a>  and I also built a webpage with the help of AI that shows real-time updates and stats from Last.fm and Spotify—check it out <a href="https://saqibmir.site/about/lastfm-stats.html">here</a>. It&rsquo;s pretty cool imo.  It uses the Last.fm API under the hood.</p>
<p>I wanted to write this blog to show how easy it is to set up your own Calibre server. It doesn’t take much—just a domain, a VPS, and a bit of time. Hopefully, this will help someone else realize how simple (and fun) self-hosting can be using pre-existing &ldquo;self-hostable&rdquo; services.</p>
<h3 id="set-up-your-own-calibre-service">Set up your own calibre service</h3>
<h4 id="prerequisites">Prerequisites</h4>
<ul>
<li>An A record with name <code>calibre</code> pointing to your server like this:
<img src="calibre.png" alt=""></li>
</ul>
<h4 id="procedure">Procedure</h4>
<ul>
<li>Install calibre</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>apt install -y calibre
</span></span></code></pre></div><ul>
<li>Prepare directories</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir -p /opt/calibre/my_library
</span></span></code></pre></div><ul>
<li>Upload a book (manually for the sake of simplicity)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd /opt/calibre
</span></span><span style="display:flex;"><span>calibredb add /path/to/book.epub --with-library my_library
</span></span></code></pre></div><ul>
<li>Create a service
Create a new file <code>/etc/systemd/system/calibre-server.service</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>Calibre library server
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Type<span style="color:#f92672">=</span>simple
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>root
</span></span><span style="display:flex;"><span>Group<span style="color:#f92672">=</span>root
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/usr/bin/calibre-server --enable-local-write /opt/calibre/your_library --listen-on 127.0.0.1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span></code></pre></div><ul>
<li>Enable and start the service</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>systemctl enable --now calibre-server
</span></span></code></pre></div><ul>
<li>Create a reverse proxy with nginx
First create a file <code>/etc/nginx/sites-available/calibre</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>server <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    listen 80;
</span></span><span style="display:flex;"><span>    client_max_body_size 64M; <span style="color:#75715e"># to upload large books</span>
</span></span><span style="display:flex;"><span>    server_name calibre.&lt;yourdomain&gt; ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    location / <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        proxy_pass http://127.0.0.1:8080;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Then enable the site</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ls -s /etc/nginx/sites-available/nginx /etc/nginx/sites-enabled/
</span></span></code></pre></div><ul>
<li>Issue a let&rsquo;s encrypt certificate</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>certbot --nginx
</span></span></code></pre></div><p>Reload nginx</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>nginx -s reload
</span></span></code></pre></div><p>Done! Now just go to calibre.<yourdomain></p>

  
  <div>
    <div>Tags:</div>
    <ul>
        <li><a href="/tags/linux/">Linux</a></li>
    </ul>
  </div>


  </main>
  <footer>
    <hr>
<p style="font-size: 0.8em;">© Saqib Mir 2022–2025 | <a href="https://github.com/saqibmir1">Github</a> | <a href="/index.xml">Subscribe</a></p>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="//cdn.jsdelivr.net/npm/@xiee/utils/js/math-code.min.js" defer></script>
<script src="//cdn.jsdelivr.net/npm/katex/dist/katex.min.js" defer></script>
<script src="//cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js" defer></script>
<script src="//cdn.jsdelivr.net/npm/@xiee/utils/js/render-katex.js" defer></script>

<script src="//cdn.jsdelivr.net/npm/@xiee/utils/js/center-img.min.js" defer></script>

  </footer>
  
  
  <a href="#" class="back-to-top" id="backToTop">↑</a>
  
  <script>
    
    const backToTop = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });
    
    backToTop.addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
